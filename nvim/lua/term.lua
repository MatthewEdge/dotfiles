-----------------------------------------------------------
-- Built-in Terminal settings
-----------------------------------------------------------

-- Open Terminal as a vertical split
vim.api.nvim_set_keymap('n', '<leader>tm', ':Term<CR>', { noremap = true })

-- Open a Terminal on the right tab
autocmd('CmdlineEnter', {
  command = 'command! Term :botright vsplit term://$SHELL'
})

-- Enter insert mode when switching to terminal
autocmd('TermOpen', {
  command = 'setlocal listchars= nonumber norelativenumber nocursorline',
})

autocmd('TermOpen', {
  pattern = '*',
  command = 'startinsert'
})

-- Close terminal buffer on process exit
autocmd('BufLeave', {
  pattern = 'term://*',
  command = 'stopinsert'
})
